# Прогнозирование удовлетворённости сотрудников и вероятности их увольнения

## Описание проекта

HR-аналитики компании «Работа с заботой» помогают бизнесу оптимизировать управление персоналом: бизнес предоставляет данные, а аналитики предлагают, как избежать финансовых потерь и оттока сотрудников. В этом HR-аналитикам пригодится машинное обучение, с помощью которого получится быстрее и точнее отвечать на вопросы бизнеса.

Компания предоставила данные с характеристиками сотрудников компании. Среди них — уровень удовлетворённости сотрудника работой в компании. Эту информацию получили из форм обратной связи: сотрудники заполняют тест-опросник, и по его результатам рассчитывается доля их удовлетворённости от 0 до 1, где 0 — совершенно неудовлетворён, 1 — полностью удовлетворён.  

Собирать данные такими опросниками не так легко: компания большая, и всех сотрудников надо сначала оповестить об опросе, а затем проследить, что все его прошли.  

У вас будет несколько задач. Первая — построить модель, которая сможет предсказать уровень удовлетворённости сотрудника на основе данных заказчика.  

Почему бизнесу это важно: удовлетворённость работой напрямую влияет на отток сотрудников. А предсказание оттока — одна из важнейших задач HR-аналитиков. Внезапные увольнения несут в себе риски для компании, особенно если уходит важный сотрудник.

Ваша вторая задача — построить модель, которая сможет на основе данных заказчика предсказать, что сотрудник уволится из компании.

---

## Задача 1: предсказание уровня удовлетворённости сотрудника

### Входные признаки

- `id` — уникальный идентификатор сотрудника
- `dept` — отдел, в котором работает сотрудник
- `level` — уровень занимаемой должности
- `workload` — уровень загруженности сотрудника
- `employment_years` — длительность работы в компании (в годах)
- `last_year_promo` — показывает, было ли повышение за последний год
- `last_year_violations` — показывает, нарушал ли сотрудник трудовой договор за последний год
- `supervisor_evaluation` — оценка качества работы сотрудника, которую дал руководитель
- `salary` — ежемесячная зарплата сотрудника
- `job_satisfaction_rate` — уровень удовлетворённости сотрудника работой в компании (целевой признак)

### Шаг 1. Загрузка данных

Загрузите файлы с данными:

- Тренировочная выборка: `train_job_satisfaction_rate.csv`
- Входные признаки тестовой выборки: `test_features.csv`
- Целевой признак тестовой выборки: `test_target_job_satisfaction_rate.csv`

### Шаг 2. Предобработка данных

Изучите данные и сделайте выводы. При необходимости выполните предобработку. Если есть пропуски, заполните их в пайплайне.

### Шаг 3. Исследовательский анализ данных

Исследуйте все признаки и сделайте выводы о том, как их нужно подготовить.

### Шаг 4. Подготовка данных

Подготовку признаков выполните в пайплайне, дополнив пайплайн шагом предобработки. При кодировании учитывайте особенности признаков и моделей и используйте как минимум два кодировщика.

### Шаг 5. Обучение моделей

Обучите как минимум две модели: одну линейную и дерево решений. Подберите гиперпараметры как минимум для одной модели.  

Выберите лучшую модель на основе метрики **SMAPE (symmetric mean absolute percentage error)**

Напишите функцию, которая принимает на вход массивы NumPy или объекты Series в pandas и возвращает значение SMAPE. Используйте эту метрику при подборе гиперпараметров и оценке качества моделей.  

**Критерий успеха:** SMAPE ≤ 15 на тестовой выборке.

### Шаг 6. Оформление выводов

Сделайте промежуточные выводы о том, какая модель справилась лучше и почему.

---

## Задача 2: предсказание увольнения сотрудника из компании

### Входные признаки

Используйте те же входные признаки, что и в предыдущей задаче. Целевой признак: `quit` — увольнение сотрудника.

### Шаг 1. Загрузка данных

Загрузите файлы:

- Тренировочная выборка: `train_quit.csv`
- Входные признаки тестовой выборки: `test_features.csv`
- Целевой признак тестовой выборки: `test_target_quit.csv`

### Шаг 2. Предобработка данных

Изучите данные и при необходимости выполните предобработку. Если есть пропуски, заполните их в пайплайне.

### Шаг 3. Исследовательский анализ данных

1. Проведите исследовательский анализ данных.
2. Составьте портрет «уволившегося сотрудника». Например, узнайте, в каком отделе с большей вероятностью работает уволившийся сотрудник и какой у него уровень загруженности. Сравните среднее значение зарплаты ушедших сотрудников с теми, кто остался.
3. Проверьте влияние уровня удовлетворённости работы (`job_satisfaction_rate`) на увольнение. Визуализируйте и сравните распределения признака для ушедших и оставшихся сотрудников.

### Шаг 4. Добавление нового входного признака

Если `job_satisfaction_rate` действительно влияет на увольнение и вы получили метрику первой задачи, добавьте предсказанный `job_satisfaction_rate` к входным признакам второй задачи.

### Шаг 5. Подготовка данных

Подготовьте признаки так же, как в первой задаче: выполните подготовку в пайплайне с предобработкой. Используйте как минимум два кодировщика.

### Шаг 6. Обучение модели

Обучите как минимум три модели. Подберите гиперпараметры для минимум двух из них. Проверьте качество лучшей модели.  

**Метрика оценки качества:** ROC-AUC  

**Критерий успеха:** ROC-AUC ≥ 0.91 на тестовой выборке.

### Шаг 7. Выводы

Сделайте промежуточные выводы о том, какая модель справилась лучше и почему.

---

## Общий вывод

Сформулируйте общий вывод:

- Опишите задачу
- Опишите все этапы работы
- Добавьте выводы и дополнительные предложения для бизнеса

