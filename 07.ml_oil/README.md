# Оптимизация выбора локации скважины

## Описание проекта

Вы работаете в добывающей компании «ГлавРосГосНефть». Необходимо решить, где бурить новую скважину, чтобы максимизировать прибыль и минимизировать риски.  

Шаги для выбора локации обычно такие:

1. В избранном регионе собирают характеристики скважин: качество нефти и объём её запасов.
2. Строят модель для предсказания объёма запасов в новых скважинах.
3. Выбирают скважины с самыми высокими оценками значений.
4. Определяют регион с максимальной суммарной прибылью отобранных скважин.

Вам предоставлены пробы нефти в трёх регионах. Для каждой скважины известны характеристики. Нужно построить модель для определения региона, где добыча принесёт наибольшую прибыль, а также оценить риски и прибыль с помощью техники Bootstrap.

---

## Инструкция по выполнению проекта

### 1. Загрузка и подготовка данных

- Загрузите данные трёх регионов:
  - `/datasets/geo_data_0.csv`
  - `/datasets/geo_data_1.csv`
  - `/datasets/geo_data_2.csv`

- Поясните порядок действий по подготовке данных.

### 2. Обучение и проверка модели для каждого региона

1. Разбейте данные на обучающую и валидационную выборки (75:25).  
2. Обучите модель линейной регрессии.  
3. Сделайте предсказания на валидационной выборке.  
4. Сохраните предсказания и правильные ответы для последующего анализа.  
5. Напечатайте средний объём предсказанного сырья и RMSE модели.  
6. Проанализируйте результаты для каждого региона.

### 3. Подготовка к расчёту прибыли

1. Сохраните все ключевые значения для расчётов в отдельных переменных.  
2. Рассчитайте достаточный объём сырья для безубыточной разработки новой скважины. Сравните с средним запасом в каждом регионе.  
3. Сделайте выводы по подготовке расчёта прибыли.

### 4. Функция расчёта прибыли

1. Выберите скважины с максимальными значениями предсказаний модели (200 лучших из 500).  
2. Просуммируйте целевой объём сырья для этих скважин.  
3. Рассчитайте прибыль для полученного объёма сырья

### 5. Расчёт рисков и прибыли для каждого региона

1. Примените технику Bootstrap с 1000 выборок для оценки распределения прибыли.  
2. Найдите:
   - среднюю прибыль,
   - 95%-й доверительный интервал,
   - риск убытков (отрицательная прибыль).  
3. Сделайте выводы:
   - оставьте регионы с вероятностью убытков < 2,5%,
   - выберите регион с наибольшей средней прибылью.

---

## Описание данных

Каждый регион представлен своим CSV-файлом:

- `id` — уникальный идентификатор скважины  
- `f0, f1, f2` — признаки скважины (значение признаков важно, но их конкретный смысл не раскрыт)  
- `product` — объём запасов в скважине (тыс. баррелей)

---

## Условия задачи

- Для обучения модели используйте только **линейную регрессию**.  
- Для разведки региона исследуют 500 точек, из которых выбирают 200 лучших для разработки.  
- Бюджет на разработку скважин в регионе — 10 млрд рублей.  
- Доход с одного барреля сырья — 450 рублей.  
  - Так как объём в тыс. баррелей, доход с единицы продукта = 450 тыс. рублей.  
- После оценки рисков оставить регионы с вероятностью убытков < 2,5%. Среди них выбрать регион с наибольшей средней прибылью.  
- Данные синтетические: детали контрактов и характеристик месторождений не разглашаются.

